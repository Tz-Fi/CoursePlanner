{
    "$schema": "http://json-schema.org/draft-06/schema#",

    "definitions": {
        "courseCodeString": {
            "type": "string",
            "pattern": "^[A-Z]{4} [0-9]{3,4}$"
        },
        "arrayOfNonEmptyArrayOfCourseCodeStrings": {
            "type": "array",
            "items": {
                "type": "array",
                "minItems": 1,
                "items": { "$ref": "#/definitions/courseCodeString" }
            }
        },
        "alphaNumPunctString": {
            "type": "string",
            "pattern": "^[\\w ,.()-:;]+$"
        }
    },

    "title": "Course Info Schema",
    "description": "A set of courses offered at concordia with information about each one.",

    "type": "array",
    "uniqueItems": true,
    "minItems": 1,

    "items": {
        "type": "object",
        "properties": {
            "code": { "$ref": "#/definitions/courseCodeString" },
            "name": { "$ref": "#/definitions/alphaNumPunctString" },
            "credits": {"type": "string", "pattern": "^[0-9]\\.[0-9]{1,2}$"},
            "description": { "$ref": "#/definitions/alphaNumPunctString" },
            "requirements": {
                "type": "object",
                "properties": {
                    "prereqs": { "$ref": "#/definitions/arrayOfNonEmptyArrayOfCourseCodeStrings" },
                    "coreqs": { "$ref": "#/definitions/arrayOfNonEmptyArrayOfCourseCodeStrings" }
                }

            },
            "required": ["code", "name", "credits", "description", "requirements"],

            "lectureHours": { "$ref": "#/definitions/alphaNumPunctString" },
            "tutorialHours": { "$ref": "#/definitions/alphaNumPunctString" },
            "labHours": { "$ref": "#/definitions/alphaNumPunctString" },
            "note": { "$ref": "#/definitions/alphaNumPunctString" },

            "additionalProperties": false
        }
    }
}
